<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Historial</title>
  <link rel="stylesheet" type="text/css" href="css/navbar/navbar.css">
  <link rel="stylesheet" href="css/navbar/navbar_div.css">
  <link rel="stylesheet" href="css/navbar/navbar_div_icono.css">
  <link rel="stylesheet" href="css/sidebar/sidebar_boton.css">
  <link rel="stylesheet" href="css/navbar/navbar_btn_logout.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
  <link rel="stylesheet" href="css/usu-historial-pedidos/pedido1.css">
  <link rel="stylesheet" href="css/historial-pedidos/historial-pedidos-container.css">
  <link rel="stylesheet" href="css/historial-pedidos/historial-pedidos-container-cartas.css">
  <link rel="stylesheet" href="css/historial-pedidos/historial-pedidos-container-titulo.css">
  <link rel="stylesheet" href="css/historial-pedidos/historial-pedidos-container-cartas-letras.css">
  <link rel="stylesheet" href="css/historial-pedidos/historial-pedidos-container-cartas-estado.css">
  <link rel="stylesheet" href="css/body.css">
  <link rel="stylesheet" href="css/sidebar/sidebar.css">
  <link rel="stylesheet" href="css/modales/banner-alerta.css">
  <link rel="stylesheet" href="css/modales/modal-confirmacion.css">
  <style>
    /* Estilos para estados de pedidos */
    .estado-confirmado {
      color: #28a745;
      font-weight: 600;
    }
    .estado-pendiente {
      color: #ffc107;
      font-weight: 600;
    }
    .estado-cancelado {
      color: #dc3545;
      font-weight: 600;
    }
    .mensaje-vacio {
      text-align: center;
      padding: 40px 20px;
      color: #666;
      font-size: 1.1rem;
    }
    .mensaje-error {
      text-align: center;
      padding: 40px 20px;
      color: #dc3545;
      font-size: 1.1rem;
    }
    .cargando {
      text-align: center;
      padding: 40px 20px;
      color: #666;
      font-size: 1.1rem;
    }
    
    /* Contenedor scrolleable para la lista de pedidos */
    #lista-historial {
      max-height: calc(100vh - 200px); /* Altura maxima: viewport menos header/titulo */
      overflow-y: auto; /* Scroll vertical cuando excede la altura */
      overflow-x: hidden; /* No scroll horizontal */
      padding-right: 8px; /* Espacio para la scrollbar */
    }
    
    /* Estilo de la scrollbar (navegadores webkit) */
    #lista-historial::-webkit-scrollbar {
      width: 8px;
    }
    
    #lista-historial::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 4px;
    }
    
    #lista-historial::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }
    
    #lista-historial::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
  </style>
</head>

<body>
  <header>
    <nav class="navbar">
      <div class="navbar_div">
        <img src="resources/restaurant.png" alt="plato de comida" class="navbar_div_icono" />
        <p>Sistema de gestion de Pedidos</p>
      </div>
      <div class="navbar_div">
        <img src="resources/usuario.png" alt="icono de usuario" class="navbar_div_icono" />
        <p id="nombre-usuario-header"></p>
        <button id="btn-logout" class="navbar_btn_logout"> Cerrar Sesion </button>
      </div>
    </nav>
  </header>
  <div class="body">
    <aside class="sidebar">
      <ul class="sidebar_lista">
        <!-- El contenido se genera dinamicamente desde sidebar.js -->
      </ul>
    </aside>
    <section class="w3-container historial-pedidos-container">
      <h1 class="historial-pedidos-container-titulo">Historial de Pedidos</h1>
      <div id="lista-historial">
        <p class="cargando">Cargando historial...</p>
      </div>
    </section>
  </div>

  <!-- Modal de confirmacion -->
  <div class="modal-confirmacion" id="modal-confirmacion">
    <div class="modal-confirmacion_backdrop" onclick="cerrarModal()"></div>
    <div class="modal-confirmacion_dialog">
      <div class="modal-confirmacion_header">
        <h2 class="modal-confirmacion_titulo" id="modal-titulo">Titulo</h2>
      </div>
      <p class="modal-confirmacion_mensaje" id="modal-mensaje">Mensaje</p>
      <div class="modal-confirmacion_footer">
        <button class="modal-confirmacion_btn" id="modal-btn" onclick="cerrarModal()">Aceptar</button>
      </div>
    </div>
  </div>

  <script type="module" src="/js/header.js"></script>
  <script type="module" src="/js/sidebar.js"></script>
  <script type="module" src="/js/historial-pedidos.js"></script>
</body>

</html>